"use strict";(self.webpackChunkbardeen_browser_extension=self.webpackChunkbardeen_browser_extension||[]).push([[4827],{72451:(e,t,n)=>{n.d(t,{h:()=>d});var o=n(2784),r=n(79692),i=n(85795);const s=(0,r.Z)({pickerFrame:{border:`solid 2px ${i.ColorMap.bardeen.base}`,backgroundColor:"rgb(38 194 208 / 12%)",boxSizing:"border-box",cursor:"pointer",pointerEvents:"none",position:"fixed",zIndex:2147483002},backgroundMask:{background:"rgba(0,0,0,0.25)",pointerEvents:"none",position:"fixed",zIndex:2147483001}}),d=e=>{const t=(e.acceptTags||[]).map((e=>e.toLowerCase())),n=s(),[r,i]=(0,o.useState)(null);return(0,o.useEffect)((()=>{const t=e.stopClickScript,n=e.collectScript,o=null==e.isStyled||e.isStyled,r=e=>{const t=e.target;if(t){if("absolute"===window.getComputedStyle(t).position){const{clientX:n,clientY:o}=e,[,r]=document.elementsFromPoint(n,o);return r?((e,t)=>{var n;const o=null===(n=e.parentElement)||void 0===n?void 0:n.contains(t),{width:r,height:i}=t.getBoundingClientRect(),{width:s,height:d}=e.getBoundingClientRect();return o&&s-r>0&&d-i>0?t:e})(t,r):t}return t}return null},s=e=>{if(t&&t(e))return;e.preventDefault(),e.stopPropagation();const n=r(e);n?(e=>{const{left:t,top:n,width:r,height:s}=e.getBoundingClientRect();o&&i({left:t,top:n,width:r,height:s})})(n):i(null)},d=e=>{t&&t(e)||(e.preventDefault(),e.stopPropagation())},l=o=>{if(t&&t(o))return;o.preventDefault(),o.stopPropagation();const i=(()=>{const e=r(o);return n?n(e):e})();e.onClick(i)};return window.addEventListener("mousemove",s,!0),window.addEventListener("mousedown",d,!0),window.addEventListener("mouseover",d,!0),window.addEventListener("mouseout",d,!0),window.addEventListener("mouseleave",d,!0),window.addEventListener("mouseenter",d,!0),window.addEventListener("mouseup",d,!0),window.addEventListener("click",l,!0),()=>{window.removeEventListener("mousemove",s,!0),window.removeEventListener("mousedown",d,!0),window.removeEventListener("mouseover",d,!0),window.removeEventListener("mouseout",d,!0),window.removeEventListener("mouseleave",d,!0),window.removeEventListener("mouseenter",d,!0),window.removeEventListener("mouseup",d,!0),window.removeEventListener("click",l,!0)}}),[e,t]),o.createElement(o.Fragment,null,r?o.createElement(o.Fragment,null,o.createElement("div",{id:"bardeen-focus-ring",className:n.pickerFrame,style:{left:`${r.left}px`,top:`${r.top}px`,width:`${r.width}px`,height:`${r.height}px`}}),o.createElement("div",{className:n.backgroundMask,style:{left:0,width:`${r.left}px`,top:0,bottom:0}}),o.createElement("div",{className:n.backgroundMask,style:{left:`${r.left+r.width}px`,right:0,top:0,bottom:0}}),o.createElement("div",{className:n.backgroundMask,style:{left:`${r.left}px`,width:`${r.width}px`,top:0,height:`${r.top}px`}}),o.createElement("div",{className:n.backgroundMask,style:{left:`${r.left}px`,width:`${r.width}px`,top:`${r.top+r.height}px`,bottom:0}})):null)}},94827:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(2784),r=n(28316),i=n(91896),s=n(85795),d=n(72451);const l=class extends i.UIModulePage{async mount(e){r.render(o.createElement(s.BardeenStyleProvider,null,o.createElement(d.h,{onClick:e=>{this.controller.onPick(e)},collectScript:e=>({src:e.getAttribute("src"),origin:window.location.origin,rect:e.getBoundingClientRect()})})),e)}async unmount(e){r.unmountComponentAtNode(e)}}}}]);