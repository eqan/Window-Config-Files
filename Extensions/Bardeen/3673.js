"use strict";(self.webpackChunkbardeen_browser_extension=self.webpackChunkbardeen_browser_extension||[]).push([[3673],{33673:(e,t,s)=>{s.r(t),s.d(t,{Hub:()=>a.Xb,Scope:()=>r.s,SessionFlusher:()=>g,addBreadcrumb:()=>o.n_,addGlobalEventProcessor:()=>r.c,captureEvent:()=>o.eN,captureException:()=>o.Tb,captureMessage:()=>o.uT,closeSession:()=>i.RJ,configureScope:()=>o.e,getCurrentHub:()=>a.Gd,getHubFromCarrier:()=>a.vi,getMainCarrier:()=>a.cu,makeMain:()=>a.pj,makeSession:()=>i.Hv,setContext:()=>o.v,setExtra:()=>o.sU,setExtras:()=>o.rJ,setHubOnCarrier:()=>a.j0,setTag:()=>o.YA,setTags:()=>o.mG,setUser:()=>o.av,startTransaction:()=>o.Yr,updateSession:()=>i.CT,withScope:()=>o.$e});var r=s(51684),i=s(92430),n=s(21995),a=s(8585);class g{__init(){this.flushTimeout=60}__init2(){this._pendingAggregates={}}__init3(){this._isEnabled=!0}constructor(e,t){g.prototype.__init.call(this),g.prototype.__init2.call(this),g.prototype.__init3.call(this),this._client=e,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._sessionAttrs=t}flush(){var e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){var e=Object.keys(this._pendingAggregates).map((e=>this._pendingAggregates[parseInt(e)])),t={attrs:this._sessionAttrs,aggregates:e};return(0,n.Jr)(t)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(this._isEnabled){var e=(0,a.Gd)().getScope(),t=e&&e.getRequestSession();t&&t.status&&(this._incrementSessionStatusCount(t.status,new Date),e&&e.setRequestSession(void 0))}}_incrementSessionStatusCount(e,t){var s=new Date(t).setSeconds(0,0);this._pendingAggregates[s]=this._pendingAggregates[s]||{};var r=this._pendingAggregates[s];switch(r.started||(r.started=new Date(s).toISOString()),e){case"errored":return r.errored=(r.errored||0)+1,r.errored;case"ok":return r.exited=(r.exited||0)+1,r.exited;default:return r.crashed=(r.crashed||0)+1,r.crashed}}}var o=s(12483)}}]);