"use strict";(self.webpackChunkbardeen_browser_extension=self.webpackChunkbardeen_browser_extension||[]).push([[6740],{56740:(e,t,i)=>{i.r(t),i.d(t,{InteractivePluginButton:()=>s});class s{constructor(e){this.identifier="[data-bardeen-activate]",this.eventListenerCallbacks={},this.elementsWithListeners=[],this.retries=0,this.api=e}exec(){return this.getActivePlugins().then((()=>{this.retries=0,this.execBardeenInteractive()})).catch((e=>{this.retries=this.retries+1,this.retries<=3&&setTimeout((()=>{this.exec()}),1e3)}))}getActivePlugins(){return this.api.integrationListInstances().then((e=>{this.pluginIds=e.map((e=>e.manifest.id))}))}execBardeenInteractive(){const e=document.querySelectorAll("[data-bardeen-activate]");Array.from(e).forEach((e=>{const t=e.getAttribute("data-bardeen-activate");this.attachListener(e,t),this.setActiveStyle(e,t)}))}setActiveStyle(e,t){const i=e.classList.contains("bardeen-interactive-active");this.pluginIds.includes(t)?i||e.classList.add("bardeen-interactive-active"):i&&e.classList.remove("bardeen-interactive-active")}attachListener(e,t){this.elementsWithListeners.includes(e)||(this.elementsWithListeners.push(e),this.eventListenerCallbacks[t]=()=>{this.activatePlugin(t)},e.addEventListener("click",this.eventListenerCallbacks[t]))}activatePlugin(e){this.api.integrationActivate(e).then((async()=>{await this.exec(),alert("Plugin successfully installed!")})).catch((e=>{alert(`Plugin could not be installed: ${e} Please try another plugin`)}))}}}}]);