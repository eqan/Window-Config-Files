"use strict";let{i18n}=ext;ext.backgroundPage.sendMessage({type:"app.get",what:"localeInfo"},a=>{document.documentElement.lang=a.locale,document.documentElement.dir=a.bidiDir}),ext.i18n.setElementText=function(a,b,c){function d(a,b){let c=/^(.*?)<(a|strong)>(.*?)<\/\2>(.*)$/.exec(a);if(c){d(c[1],b);let a=document.createElement(c[2]);d(c[3],a),b.appendChild(a),d(c[4],b)}else b.appendChild(document.createTextNode(a))}for(;a.lastChild;)a.removeChild(a.lastChild);d(ext.i18n.getMessage(b,c),a)};function loadI18nStrings(){function a(a){let b=a.querySelectorAll("[class^='i18n_']");for(let c of b){let a=JSON.parse("["+c.textContent+"]");0==a.length&&(a=null);let{className:b}=c;b instanceof SVGAnimatedString&&(b=b.animVal);let d=b.split(/\s/)[0].substring(5);ext.i18n.setElementText(c,d,a)}}a(document);for(let b of document.querySelectorAll("template"))a(b.content)}function i18nTimeDateStrings(a){let b=new Date(a),c=b.toLocaleTimeString(),d=new Date;return b.toDateString()==d.toDateString()?[c]:[c,b.toLocaleDateString()]}function i18nFormatDateTime(a){let b=new Date(a),c=[b.getFullYear(),b.getMonth()+1,b.getDate(),b.getHours(),b.getMinutes()];return c=c.map(a=>10>a?"0"+a:a),[c.splice(0,3).join("-"),c.join(":")]}window.addEventListener("DOMContentLoaded",loadI18nStrings,!0);