$(document).ready(function(){"en"!=navigator.language.substring(0,2)&&$(".english-only").css("display","inline"),$("#debug").click(function(){var a=null,b=function(){$("#debugInfo").text(a).css({width:"450px",height:"100px"}).fadeIn()};backgroundPage.getDebugInfo(function(c){var d=[];if(c.subscriptions)for(var e in d.push("=== Filter Lists ==="),c.subscriptions)d.push("Id:"+e),d.push("  Download Count: "+c.subscriptions[e].downloadCount),d.push("  Download Status: "+c.subscriptions[e].downloadStatus),d.push("  Last Download: "+c.subscriptions[e].lastDownload),d.push("  Last Success: "+c.subscriptions[e].lastSuccess);for(var f in d.push(""),c.custom_filters&&(d.push("=== Custom Filters ==="),d.push(c.custom_filters),d.push("")),c.exclude_filters&&(d.push("=== Exclude Filters ==="),d.push(JSON.stringify(c.exclude_filters))),d.push("=== Settings ==="),c.settings)d.push(f+" : "+c.settings[f]);d.push(""),d.push("=== Other Info ==="),d.push(JSON.stringify(c.other_info,null,"\t")),a=d.join("\n"),SAFARI?b():chrome.permissions.request({permissions:["management"]},function(c){c?chrome.management.getAll(function(c){for(var d=["==== Extension and App Information ===="],e=0;e<c.length;e++)d.push("Number "+(e+1)),d.push("  name: "+c[e].name),d.push("  id: "+c[e].id),d.push("  version: "+c[e].version),d.push("  enabled: "+c[e].enabled),d.push("  type: "+c[e].type),d.push("");a=a+"  \n\n"+d.join("  \n"),b(),chrome.permissions.remove({permissions:["management"]},function(){})}):(a+="\n\n==== User Denied Extension and App Permissions ====",b())})})}),$("#whatsnew a").click(function(){var a=new XMLHttpRequest;a.open("GET",chrome.extension.getURL("CHANGELOG.txt"),!1),a.send();var b=a.responseText;$("#changes").text(b).css({width:"670px",height:"200px"}).fadeIn()})});