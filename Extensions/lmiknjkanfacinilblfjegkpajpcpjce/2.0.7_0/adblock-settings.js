function Settings(){this._settingsKey="settings",this._defaults={debug_logging:!1,youtube_channel_whitelist:!1,show_advanced_options:!1,show_block_counts_help_link:!0,show_survey:!0};var a=this;this._init=new Promise(function(b){ext.storage.get(a._settingsKey,function(c){var d=c.settings||{};a._data=$.extend(a._defaults,d),d.debug_logging&&logging(!0),b()})}).then(function(){log("\n===SETTINGS FINISHED LOADING===\n\n")})}Settings.prototype={set:function(a,b,c){this._data[a]=b;var d=this;ext.storage.get(this._settingsKey,function(e){var f=e.settings||{};f[a]=b,ext.storage.set(d._settingsKey,f),c!==void 0&&"function"==typeof c&&c()})},get_all:function(){return this._data},onload:function(){return this._init}};var _settings=new Settings;_settings.onload();var getSettings=function(){return _settings.get_all()},setSetting=function(a,b,c){_settings.set(a,b,c),"debug_logging"===a&&logging(b)},disableSetting=function(a){_settings.set(a,!1)};